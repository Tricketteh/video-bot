services:
  video-bot:
    build:
      context: .
    container_name: video-bot
    restart: unless-stopped
    environment:
      BOT_TOKEN: ${BOT_TOKEN}
      MAX_BOT_FILE_BYTES: ${MAX_BOT_FILE_BYTES:-52428800}
      DOWNLOAD_RETRY_ATTEMPTS: ${DOWNLOAD_RETRY_ATTEMPTS:-3}
      RETRY_PAUSE_SECONDS: ${RETRY_PAUSE_SECONDS:-3}
      REQUEST_PAUSE_SECONDS: ${REQUEST_PAUSE_SECONDS:-1}
      HEARTBEAT_INTERVAL_SECONDS: ${HEARTBEAT_INTERVAL_SECONDS:-300}
      URL_EXPAND_TIMEOUT_SECONDS: ${URL_EXPAND_TIMEOUT_SECONDS:-12}
      SEEN_URL_TTL_SECONDS: ${SEEN_URL_TTL_SECONDS:-300}
      GLOBAL_DOWNLOAD_COOLDOWN_SECONDS: ${GLOBAL_DOWNLOAD_COOLDOWN_SECONDS:-5}
    volumes:
      - ./cookies:/app/cookies